% How are we different from concrete other research?
\section{Related Work}
\label{sect:related-work}


\paragraph{GMap and OpMap}

GMap \cite{gansner2009gmap} is an algorithm that visualizes graphs as geographical maps.
In a first step, it embeds the graph in the plane.
This step can be implemented using just about any embedding algorithm, for example a traditional force-directed graph drawing algorithm.
The embedded vertices are then clustered.
Again, any clustering algorithm may be used, for example a geometric clustering algorithms such as $k$-means.
Using the geometrical embedding and the clustering, a map is created based on a Voronoi diagram of the vertices.
By embedding the input graph first and then clustering it based on the drawing, we potentially lose out on structure in the abstract graph that wasn't captured by the drawing, but an abstract graph clustering algorithm might have picked up on.
In a follow-up paper, Mashima \etal{} \cite{mashima2011visualizing} built upon GMap to visualize dynamic input graphs while also maintaining the mental map of a viewer.

The aforementioned algorithm for visualizing opinion networks by Betz \etal{} is called OpMap.
OpMap focuses on clustering and weighting the opinion vectors in the network and delegates the rendering to GMap.
However, the clustering is performed on the abstract input graph, independent from the embedding chosen by GMap.
This can also be problematic: if the clustering and the embedding don't fit together well, we end up with fragmented, noncontiguous clusters on the map.
OpMap has only been evaluated for relatively small input sizes and works with static inputs only.
We want to explore an approach that supports larger, and most importantly dynamic option networks.
We will not attempt to answer open questions from the OpMap paper such as how to scale the clustering to larger graphs, or how adapt the clustering to a dynamic setting.

In this thesis we therefore cluster the graph and extract important features first, and only then embed the graph in the plane while keeping the clusters connected.


\paragraph{Cartograms}

Cartograms have been studied for more than 50 years \cite{tobler2004thirty} and there are lots of fundamentally different approaches to generate different kinds of cartograms \cite{nusrat2016state}.
Their quality is generally assessed by a combination of statistical accuracy, topological accuracy, and geographic accuracy \cite{alam2015quantitative}:
\emph{Statistical accuracy} describes how closely the areas of the modified geographic regions match the variable of interest, \emph{topological accuracy} how well the original region adjacencies are preserved, and \emph{geographic accuracy} how the shapes and positions of the distorted regions resemble their original.
Geographic accuracy is closely related to the preservation of the mental map as it captures a viewer's ability to intuitively recognize the regions and therefore detect the trends in the underlying data.
Although traditionally used for other applications, cartograms are closely related to our problem statement and the aforementioned quality metrics translate directly to our use case.
While we don't have a reference map for the initial area-proportional map like cartograms do, we can use that initial map as a reference map that we can base geographical accuracy on when incorporating dynamic updates of the input graph.

Gastner and Newman \cite{gastner2004diffusion} propose a physical model based on diffusion to generate cartograms:
They rasterize the original map into a two-dimensional matrix with the values being the initial densities, \ie{} the statistical values divided by the regions' areas at any given point.
This matrix is then used to precompute the gradient of the diffusion field and the pathlines of these \quoted{density particles} as they diffuse through the map and equalize the overall density.
The pathlines essentially map locations on the original map to their location in the diffused map and can be used to draw the distorted, density-equalizing map.
However, due to the rasterization and heavy precomputation of pathlines, this algorithm isn't well-suited for our dynamic setting in which densities can change and are not necessarily known a priori.

KÃ¤mper \etal{} \cite{kamper2013circular} start with a polygonal map and transform every edge into a circular arc that can bend to realize the desired areas of individual regions.
They use a max-flow-based formulation on the dual graph of the map to find out how the area should be distributed among the regions and solve for the circular arc radii.
However the degree to which the edges can bend is heavily restricted since the circular arcs may not touch or cross, making it difficult for circular arc cartograms to achieve good statistical accuracies.

Alam \etal{} \cite{alam2013computing} show how air-pressure-based models for the general floorplan problem such as \cite{izumi1998air} and \cite{felsner2013exploiting} can be applied to generating rectilinear cartograms.
Each region is assigned a target area based on the statistic we want to visualize.
One can then compute the pressure in each region based on its current area and target area at different steps in the algorithm and use it to iteratively grow and/or shrink the regions by shifting its borders until the target areas are achieved.
These ideas motivate the force-directed formulation of a pivotal part of our framework that we discuss in the following paragraph.


\paragraph{Force-directed Graph Drawing}

Force-directed graph drawing algorithms regard the graph to be visualized as a physical system in which the vertices are individual particles, and several forces are acting on said particles.
These forces are defined such that they act to bring the system into a stable equilibrium position in which its potential energy is at a local minimum and the resulting drawing has some desired features.
 Eades \cite{eades84heuristic} first used a combination of attractive forces between adjacent vertices based on physical springs and repulsive forces between all pairs of vertices based on electric repulsion.
These forces result in adjacent vertices wanting to be close together while non-adjacent vertices are further apart from each other.
The drawings resulting from force-directed algorithms are generally visually appealing and easy to grasp \cite{kobourov2013force}.

Bertault \cite{bertault1999force} designed a force-directed algorithm called PrEd that imposes additional constraints on the displacement of vertices.
In PrEd vertices are only allowed to move in a way that preserves the edge crossing properties of the initial layout, \ie{} existing edge crossings are preserved and no new edge crossings are introduced.
Simonetto \etal{} \cite{simonetto2011impred} introduced an improved version of this algorithm that is more flexible and performs much better on larger input graphs.

In this thesis, we use a force-directed algorithm with custom forces to control the layout of our polygonal maps.
The forces we use are based on the aforementioned \quoted{pressure} in the individual regions of the map.
It is crucial that we do not introduce edge crossings when tweaking the map's layout because regions aren't allowed to overlap on geographical maps.


\paragraph{Area Universality}

\emph{Area-universal graphs} are graphs that can realize any area assignment to its inner faces with straight-line edges.
Research on area-universality gives us important theoretical bounds on the statistical accuracy we can achieve with polygonal maps.

Back in 1992, Thomassen \cite{thomassen1992plane} showed that plane cubic graphs are area-universal.
As long as at most three regions meet in a point we can therefore achieve perfect statistical accuracy for arbitrary region weights.
This is because if we were to remove endpoints that are incident to two or less regions, the resulting polygonal map would only have vertices of degree 3.

Kleist \cite{kleist2018drawing} \cite{kleist2019planar} showed that the 1-subdivision of any plane graph is area-universal.
With just just one bend per edge, any plane graph can therefore be drawn with arbitrary prescribed face areas.
This, too, translates to polygonal maps: as long as there's an endpoint that's part of at most two regions between endpoints that are part of more than two regions, we can lift the requirement of no more than three regions meeting in a point while still being able to achieve perfect statistical accuracy for arbitrary region weights.
